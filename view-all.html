<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>View All</title>
  <link rel="stylesheet" href="css/view-all.css" />
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <img src="assets/duolingo.png" alt="Duolingo Logo" class="logo" />
    <ul>
      <li><img src="LEARN.png" /><span>LEARN</span></li>
      <li><img src="SOUNDS.png" /><span>SOUNDS</span></li>
      <li><img src="PRACTICE.png" /><span>PRACTICE</span></li>
      <li><img src="LEADERBOARD.png" /><span>LEADERBOARD</span></li>
      <li><img src="QUESTS.png" /><span>QUESTS</span></li>
      <li><img src="shop.png" /><span>SHOP</span></li>
      <li class="sidebar-item active"><img src="Family Hall.png" alt="Family Hall Icon" /> <span>FAMILY HALL</span></li>
      <li><img src="PROFILE.png" /><span>PROFILE</span></li>
      <li><img src="More.png" /><span>MORE</span></li>
    </ul>
  </div>

  <!-- Main Content -->
<div class="main">
  <!-- Header -->
  <div class="header">
    <div class="calendar-dropdown">
  <div class="calendar-header"><h3>May 2025</h3></div>
  <div class="calendar-grid">
    <!-- Weekdays -->
    <div class="weekday">Mon</div>
    <div class="weekday">Tue</div>
    <div class="weekday">Wed</div>
    <div class="weekday">Thu</div>
    <div class="weekday">Fri</div>
    <div class="weekday">Sat</div>
    <div class="weekday">Sun</div>

    <!-- May 1st is Thursday => pad 3 empty -->
    <div></div><div></div><div></div>

    <!-- Days 1–31 -->
    <div class="calendar-day has-photo" data-date="5/1">
    <img src="photo-13.png" class="circle-fill" />
    <span class="day-number">1</span>
  </div>
  <div class="calendar-day has-photo" data-date="5/2">
    <img src="photo-10.png" class="circle-fill" />
    <span class="day-number">2</span>
  </div>
  <div class="calendar-day has-photo" data-date="5/3">
    <img src="photo-7.png" class="circle-fill" />
    <span class="day-number">3</span>
  </div>
  <div class="calendar-day has-photo" data-date="5/4">
    <img src="photo-4.png" class="circle-fill" />
    <span class="day-number">4</span>
  </div>
  <div class="calendar-day has-photo" data-date="5/5">
    <img src="photo-1.png" class="circle-fill" />
    <span class="day-number">5</span>
  </div>

  <div class="calendar-day" data-date="5/6"><span class="day-number">6</span></div>
  <div class="calendar-day" data-date="5/7"><span class="day-number">7</span></div>
  <div class="calendar-day" data-date="5/8"><span class="day-number">8</span></div>
  <div class="calendar-day" data-date="5/9"><span class="day-number">9</span></div>
  <div class="calendar-day" data-date="5/10"><span class="day-number">10</span></div>
  <div class="calendar-day" data-date="5/11"><span class="day-number">11</span></div>
  <div class="calendar-day" data-date="5/12"><span class="day-number">12</span></div>
  <div class="calendar-day" data-date="5/13"><span class="day-number">13</span></div>
  <div class="calendar-day" data-date="5/14"><span class="day-number">14</span></div>
  <div class="calendar-day" data-date="5/15"><span class="day-number">15</span></div>
  <div class="calendar-day" data-date="5/16"><span class="day-number">16</span></div>
  <div class="calendar-day" data-date="5/17"><span class="day-number">17</span></div>
  <div class="calendar-day" data-date="5/18"><span class="day-number">18</span></div>
  <div class="calendar-day" data-date="5/19"><span class="day-number">19</span></div>
  <div class="calendar-day" data-date="5/20"><span class="day-number">20</span></div>
  <div class="calendar-day" data-date="5/21"><span class="day-number">21</span></div>
  <div class="calendar-day" data-date="5/22"><span class="day-number">22</span></div>
  <div class="calendar-day" data-date="5/23"><span class="day-number">23</span></div>
  <div class="calendar-day" data-date="5/24"><span class="day-number">24</span></div>
  <div class="calendar-day" data-date="5/25"><span class="day-number">25</span></div>
  <div class="calendar-day" data-date="5/26"><span class="day-number">26</span></div>
  <div class="calendar-day" data-date="5/27"><span class="day-number">27</span></div>
  <div class="calendar-day" data-date="5/28"><span class="day-number">28</span></div>
  <div class="calendar-day" data-date="5/29"><span class="day-number">29</span></div>
  <div class="calendar-day" data-date="5/30"><span class="day-number">30</span></div>
  <div class="calendar-day" data-date="5/31"><span class="day-number">31</span></div>
</div>
</div>

  <div class="header-left">
    <button class="back-btn">
      <a href="family-hall.html">
      <img src="assets/Frame 7.png" alt="Back" />
    </a>
    </button>
    <h2>Album</h2>
    <div class="search-wrapper">
      <input type="text" class="search" placeholder="Search by keyword" />
      <img src="assets/calendar.png" class="calendar-inside" alt="Calendar" />
    </div>
  </div>

  <!-- ✅ 右上角固定欄 -->
  <div class="top-bar-icons">
    <img src="assets/right-header.png" />
  </div>
</div>


    <!-- Avatar Filter -->
    <div class="avatar-filter-wrapper">
      <div class="avatar-filter">
        <div class="avatar-block">
          <img src="assets/all.png" class="avatar active" />
          <p>All</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar9.png" class="avatar" />
          <p>You</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar4.png" class="avatar" />
          <p>Wendy</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar5.png" class="avatar" />
          <p>Vivian</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar6.png" class="avatar" />
          <p>David</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar7.png" class="avatar" />
          <p>Fiona</p>
        </div>
        <div class="avatar-block">
          <img src="assets/avatar8.png" class="avatar" />
          <p>Chloe</p>
        </div>
      </div>
    </div>

    <!-- Photo Grid -->
<div class="photo-grid">
  <div class="date-label">5/5</div>
  <div class="photo-row">
    <div class="photo-block" data-uploader="Chloe">
      <img src="assets/photo-1.png" class="photo" />
      <p class="hashtag">#BABY #PUPPY #LOVE</p>
    </div>
    <div class="photo-block" data-uploader="Fiona">
      <div class="photo-wrapper">
        <img src="assets/photo-2.png" class="photo" />
        <img src="assets/heart.png" class="heart-icon" />
      </div>
      <p class="hashtag">#PASTA #MESSY #LUNCH</p>
    </div>
    <div class="photo-block" data-uploader="Chloe">
      <div class="photo-wrapper">
        <img src="assets/photo-3.png" class="photo" />
        <img src="assets/heart.png" class="heart-icon" />
      </div>
      <p class="hashtag">#BABY #BUBBLE #BATH</p>
    </div>
  </div>

  <div class="date-label">5/4</div>
  <div class="photo-row">
    <div class="photo-block" data-uploader="David">
      <img src="assets/photo-4.png" class="photo" />
      <p class="hashtag">#COFFEE #WORK #BALCONY</p>
    </div>
    <div class="photo-block" data-uploader="Fiona">
      <img src="assets/photo-5.png" class="photo" />
      <p class="hashtag">#TOWEL #COLD #SEAL</p>
    </div>
    <div class="photo-block" data-uploader="David">
      <img src="assets/photo-6.png" class="photo" />
      <p class="hashtag">#STUDY #GLASSES #WRITE</p>
    </div>
  </div>

  <div class="date-label">5/3</div>
  <div class="photo-row">
    <div class="photo-block">
      <img src="assets/photo-7.png" class="photo" />
      <p class="hashtag">#MIRROR #SMILE #BABY</p>
    </div>
    <div class="photo-block" data-uploader="Fiona">
      <img src="assets/photo-8.png" class="photo" />
      <p class="hashtag">#SCHOOL #STORY #FRIENDS</p>
    </div>
    <div class="photo-block" data-uploader="Wendy">
      <img src="assets/photo-9.png" class="photo" />
      <p class="hashtag">#COMPUTER #CLASS #HAND</p>
    </div>
  </div>

  <div class="date-label">5/2</div>
  <div class="photo-row">
    <div class="photo-block" data-uploader="Chloe">
      <img src="assets/photo-10.png" class="photo" />
      <p class="hashtag">#CAFE #STUDY #FLOWER</p>
    </div>
    <div class="photo-block" data-uploader="David">
      <img src="assets/photo-11.png" class="photo" />
      <p class="hashtag">#TOWEL #COLD #SEAL</p>
    </div>
    <div class="photo-block">
      <img src="assets/photo-12.png" class="photo" />
      <p class="hashtag">#BABY #PUPPY #BALL</p>
    </div>
  </div>

  <div class="date-label">5/1</div>
  <div class="photo-row">
    <div class="photo-block" data-uploader="Wendy">
      <div class="photo-wrapper">
        <img src="assets/photo-13.png" class="photo" />
        <img src="assets/heart.png" class="heart-icon" />
      </div>
      <p class="hashtag">#PLAYDOUGH #HAPPY #HANDS</p>
    </div>
    <div class="photo-block">
      <div class="photo-wrapper">
        <img src="assets/photo-14.png" class="photo" />
        <img src="assets/heart.png" class="heart-icon" />
      </div>
      <p class="hashtag">#GAME #SCHOOL #SHAPE</p>
    </div>
    <div class="photo-block" data-uploader="Wendy">
      <img src="assets/photo-15.png" class="photo" />
      <p class="hashtag">#PENCIL #WRITE #SCHOOL</p>
    </div>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const avatarBlocks = document.querySelectorAll(".avatar-block");
    const photoBlocks = document.querySelectorAll(".photo-block");
    const searchInput = document.querySelector(".search");
    const calendarIcon = document.querySelector(".calendar-inside");
    const calendarDropdown = document.querySelector(".calendar-dropdown");
    const calendarDays = document.querySelectorAll(".calendar-day");

    // 頭像點擊過濾 + 顯示/隱藏日期區塊
    avatarBlocks.forEach(block => {
      block.addEventListener("click", () => {
        // 高亮頭像
        avatarBlocks.forEach(b => b.querySelector(".avatar").classList.remove("active"));
        block.querySelector(".avatar").classList.add("active");

        const name = block.querySelector("p").textContent.trim();

        // 篩選照片
        photoBlocks.forEach(photo => {
          const uploader = photo.getAttribute("data-uploader");
          if (name === "All" || uploader === name) {
            photo.style.display = "block";
          } else {
            photo.style.display = "none";
          }
        });

        // 顯示/隱藏日期區塊
        const dateGroups = document.querySelectorAll(".photo-grid > .date-label");
        dateGroups.forEach(label => {
          const row = label.nextElementSibling;
          const visiblePhotos = [...row.querySelectorAll(".photo-block")].filter(el => el.style.display !== "none");
          if (visiblePhotos.length === 0) {
            label.style.display = "none";
            row.style.display = "none";
          } else {
            label.style.display = "block";
            row.style.display = "flex";
          }
        });

        // 清空搜尋欄
        searchInput.value = "";
        // 關閉日曆
        calendarDropdown.style.display = "none";
      });
    });

    // 搜尋 hashtag 功能
    searchInput.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        const keyword = searchInput.value.trim().toLowerCase();
        photoBlocks.forEach(photo => {
          const hashtags = photo.querySelector(".hashtag").textContent.toLowerCase();
          photo.style.display = (keyword === "" || hashtags.includes(keyword)) ? "block" : "none";
        });
        avatarBlocks.forEach(b => b.querySelector(".avatar").classList.remove("active"));

        // 顯示/隱藏日期區塊
        const dateGroups = document.querySelectorAll(".photo-grid > .date-label");
        dateGroups.forEach(label => {
          const row = label.nextElementSibling;
          const visiblePhotos = [...row.querySelectorAll(".photo-block")].filter(el => el.style.display !== "none");
          if (visiblePhotos.length === 0) {
            label.style.display = "none";
            row.style.display = "none";
          } else {
            label.style.display = "block";
            row.style.display = "flex";
          }
        });

        calendarDropdown.style.display = "none";
      }
    });

    // 點擊日曆 icon 切換日曆浮層顯示
    calendarIcon.addEventListener("click", (e) => {
      e.stopPropagation();
      calendarDropdown.style.display =
        calendarDropdown.style.display === "none" ? "block" : "none";
    });

    // 點日曆日期，顯示該天照片與日期標籤
    calendarDays.forEach(day => {
      day.addEventListener("click", (e) => {
        e.stopPropagation();
        const selectedDate = day.getAttribute("data-date");

        document.querySelectorAll(".photo-grid > .date-label").forEach(label => {
          const row = label.nextElementSibling;
          const isMatch = label.textContent.trim() === selectedDate;
          label.style.display = isMatch ? "block" : "none";
          row.style.display = isMatch ? "flex" : "none";
        });

        calendarDays.forEach(d => d.classList.remove("active"));
        day.classList.add("active");
        calendarDropdown.style.display = "none";

        // 清空搜尋欄與頭像選擇，避免混亂
        searchInput.value = "";
        avatarBlocks.forEach(b => b.querySelector(".avatar").classList.remove("active"));
      });
    });

    // 點外面關閉日曆
    document.addEventListener("click", (e) => {
      if (!calendarDropdown.contains(e.target) && e.target !== calendarIcon) {
        calendarDropdown.style.display = "none";
      }
    });
  });
</script>
<body>
<html>

